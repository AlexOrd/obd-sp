function initCyberpunkAnimation(){const t=document.getElementById("sp-side"),e=document.getElementById("sp-canvas");if(!e||!t)return;const n=t.clientWidth,o=t.clientHeight,i=new THREE.Scene;i.fog=new THREE.Fog(657935,10,50);const a=new THREE.PerspectiveCamera(75,n/o,.1,1e3);a.position.z=25;const s=new THREE.WebGLRenderer({canvas:e,alpha:!0,antialias:!0});s.setSize(n,o),s.setClearColor(0,0);const r=[],l=[],d=new THREE.BufferGeometry,c=new Float32Array(150),p=new Float32Array(150);for(let t=0;t<50;t++){const e={position:new THREE.Vector3(50*(Math.random()-.5),50*(Math.random()-.5),20*(Math.random()-.5)),velocity:new THREE.Vector3(.05*(Math.random()-.5),.05*(Math.random()-.5),.02*(Math.random()-.5))};r.push(e),c[3*t]=e.position.x,c[3*t+1]=e.position.y,c[3*t+2]=e.position.z,p[3*t]=0,p[3*t+1]=.94,p[3*t+2]=1}d.setAttribute("position",new THREE.BufferAttribute(c,3)),d.setAttribute("color",new THREE.BufferAttribute(p,3));const m=new THREE.PointsMaterial({size:.5,vertexColors:!0,transparent:!0,opacity:.8}),y=new THREE.Points(d,m);i.add(y);const u=new THREE.LineBasicMaterial({color:61695,transparent:!0,opacity:.3});function h(){l.forEach(t=>i.remove(t)),l.length=0;for(let t=0;t<r.length;t++)for(let e=t+1;e<r.length;e++){if(r[t].position.distanceTo(r[e].position)<8){const n=(new THREE.BufferGeometry).setFromPoints([r[t].position,r[e].position]),o=new THREE.Line(n,u);i.add(o),l.push(o)}}}h(),function t(){requestAnimationFrame(t);const e=y.geometry.attributes.position.array;r.forEach((t,n)=>{t.position.add(t.velocity),Math.abs(t.position.x)>25&&(t.velocity.x*=-1),Math.abs(t.position.y)>25&&(t.velocity.y*=-1),Math.abs(t.position.z)>10&&(t.velocity.z*=-1),e[3*n]=t.position.x,e[3*n+1]=t.position.y,e[3*n+2]=t.position.z}),y.geometry.attributes.position.needsUpdate=!0,Math.random()<.1&&h(),a.position.x=2*Math.sin(1e-4*Date.now()),a.position.y=2*Math.cos(1e-4*Date.now()),a.lookAt(i.position),s.render(i,a)}(),window.addEventListener("resize",()=>{const e=t.clientWidth,n=t.clientHeight;a.aspect=e/n,a.updateProjectionMatrix(),s.setSize(e,n)})}function initMagicalAnimation(){const t=document.getElementById("db-side"),e=document.getElementById("db-canvas");if(!e||!t)return;const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/threejs-components@0.0.22/build/backgrounds/liquid1.min.js",n.onload=()=>{try{const{LiquidBackground:n}=window;if(!n)return;const o=n(e);o.loadImage("db/images/hp.png"),o.liquidPlane.material.metalness=.75,o.liquidPlane.material.roughness=.25,o.liquidPlane.uniforms.displacementScale.value=5,o.setRain(!1);const i=document.createElement("div");i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",i.style.background="rgba(44, 36, 22, 0.6)",i.style.pointerEvents="none",i.style.zIndex="3",t.insertBefore(i,t.firstChild.nextSibling),createGoldenParticles(t)}catch(t){}},document.head.appendChild(n)}function createGoldenParticles(t){const e=document.createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.pointerEvents="none",e.style.zIndex="4",e.style.overflow="hidden",t.appendChild(e);for(let t=0;t<20;t++){const t=document.createElement("div");t.innerHTML="âœ¨",t.style.position="absolute",t.style.fontSize=20*Math.random()+10+"px",t.style.left=100*Math.random()+"%",t.style.top=100*Math.random()+"%",t.style.opacity=""+(.3*Math.random()+.2),t.style.animation=`float-sparkle ${5*Math.random()+3}s ease-in-out infinite`,t.style.animationDelay=2*Math.random()+"s",e.appendChild(t)}if(!document.getElementById("sparkle-animation")){const t=document.createElement("style");t.id="sparkle-animation",t.innerHTML="\n      @keyframes float-sparkle {\n        0%, 100% {\n          transform: translateY(0) rotate(0deg);\n          opacity: 0.2;\n        }\n        50% {\n          transform: translateY(-30px) rotate(180deg);\n          opacity: 0.6;\n        }\n      }\n    ",document.head.appendChild(t)}}document.addEventListener("DOMContentLoaded",()=>{initCyberpunkAnimation(),initMagicalAnimation()});